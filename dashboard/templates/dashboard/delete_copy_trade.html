{% extends 'dashboard/base.html' %}
{% block page_title %}Delete Copy Trade{% endblock %}
{% block page_subtitle %}Trade #{{ trade.id }} — {{ trade.reference }}{% endblock %}

{% block content %}
<div class="max-w-lg mx-auto">
    <div class="bg-white rounded-xl border border-gray-200 p-6">
        <div class="text-center mb-6">
            <div class="w-14 h-14 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4">
                <i class="fas fa-trash-alt text-red-500 text-xl"></i>
            </div>
            <h3 class="text-lg font-semibold text-gray-800 mb-2">Delete Copy Trade?</h3>
            <p class="text-sm text-gray-500">This action cannot be undone.</p>
        </div>

        <div class="bg-gray-50 rounded-lg p-4 mb-6 space-y-2 text-sm">
            <div class="flex justify-between">
                <span class="text-gray-500">Reference</span>
                <span class="font-mono font-semibold text-gray-800">{{ trade.reference }}</span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-500">User</span>
                <span class="font-semibold text-gray-800">
                    {% if trade.user %}{{ trade.user.email }}{% else %}—{% endif %}
                </span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-500">Market</span>
                <span class="font-semibold text-gray-800">{{ trade.market }}</span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-500">Status</span>
                <span class="font-semibold {% if trade.status == 'open' %}text-blue-600{% else %}text-gray-600{% endif %}">
                    {{ trade.status|capfirst }}
                </span>
            </div>
            <div class="flex justify-between">
                <span class="text-gray-500">P/L %</span>
                <span class="font-semibold {% if trade.profit_loss_percent >= 0 %}text-green-600{% else %}text-red-600{% endif %}">
                    {% if trade.profit_loss_percent >= 0 %}+{% endif %}{{ trade.profit_loss_percent }}%
                </span>
            </div>
        </div>

        <form method="post">
            {% csrf_token %}
            <div class="flex gap-3">
                <a href="{% url 'dashboard:copy_trade_detail' trade.id %}"
                   class="flex-1 text-center px-5 py-3 bg-gray-100 text-gray-600 rounded-lg text-sm font-semibold hover:bg-gray-200 transition">
                    Cancel
                </a>
                <button type="submit"
                        class="flex-1 px-5 py-3 bg-red-600 text-white rounded-lg text-sm font-semibold hover:bg-red-700 transition">
                    <i class="fas fa-trash-alt mr-1"></i> Delete Trade
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}
